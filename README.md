# PRiMvVGPS + YAPPR

## Лабораторный стенд «Беспилотный летательный аппарат"

## Авторы
- Булатов Павел, ИПР-24-1м
- Перваков Святогор, ИПР-24-1м

## Объект разработки
Объектом разработки является лабораторный стенд "Беспилотный летательный аппарат", предназначенный для отработки алгоритмов программного управления дроном, телеметрии и взаимодействия с внешними модулями (в том числе — алгоритмами компьютерного зрения и системами планирования маршрутов и траекторий).

## Цель работы на текущий семестр
- Основной целью текущего этапа работы стала разработка цифровой модели квадрокоптера и реализация имитационной среды для отработки алгоритмов программного управления.  
Данная цель была выбрана в связи с тем, что реализация проекта "в железе" требует подготовки, понимания нюансов программного управления.
- Дополнительной целью стало улучшение ранее созданного FPV-симулятора

## Задачи работы на текущий семестр
1. Выбор установка и настройка симулятора, разработка и сборка необходимого программного окружения для имитации полетного контроллера.
2. Организация взаимодействия между алгоритмами управления, дроном и имитационной средой посредством протокола связи.
3. Реализация базовых маневров: взлёт, посадка.
4. Реализация миссии автономного полёта и возврат домой.
5. Улучшение управляемости дрона в FPV-симуляторе.

## Основная часть
- В качестве среды моделирования был выбран Gazebo 9
- Для реализации логики управления дроном использовалась программная реализация полётного контроллера — ArduPilot SITL (Software-In-The-Loop). Этот подход позволил запускать прошивку дрона локально на компьютере без необходимости в реальном аппаратном обеспечении.
- Связь между симулятором Gazebo и виртуальным контроллером ArduPilot осуществляется с помощью протокола MAVLink. Это позволило передавать команды управления и получать телеметрию в реальном времени.
- Для взаимодействия с ArduPilot использовалась консольная утилита MAVProxy, обеспечивающая отображение карты полёта, состояния дрона, логов и ручной ввод команд. MAVProxy также позволит управлять режимами полёта и осуществлять навигацию.
- Режим программного управления реализован с помощью Python-библиотеки DroneKit, которая предоставляет высокоуровневый API для управления через MAVLink. 

### Запуск имитационной модели и взлёт
[![Видео](https://img.youtube.com/vi/KKikE-8tJtc/hqdefault.jpg)](https://www.youtube.com/watch?v=KKikE-8tJtc)

### Программно-управляемая миссия с помощью скрипта fly_forward.py
[![Видео](https://img.youtube.com/vi/cyLYSvqcywg/hqdefault.jpg)](https://www.youtube.com/watch?v=cyLYSvqcywg)

### Полет по координатам и возврат домой
[![Видео](https://img.youtube.com/vi/8ESFbyPvtf4.jpg/hqdefault.jpg)](https://www.youtube.com/watch?v=8ESFbyPvtf4)

## Заключение
- Результатом работы стала полнофункциональная имитационная модель квадрокоптера в среде Gazebo, в которой была реализована миссия программно-управляемого полета, включающая в себя такие этапы, как: взлёт на заданную высоту, движение по заданным координатам, возврат домой и последующая посадка.

## Будущее проекта
- Интеграция алгоритмов компьютерного зрения в имитационной модели
- Внедрение ROS и построение модульной архитектуры управления дроном
- Разработка сценария программно-управляемой доставки груза
- Перенос модели на физический прототип дрона (в данный момент реализован дрон на полностью ручном управлении с пульта, в дальнейшем разработанные алгоритмы будут адаптированы для работы на реальном аппаратном комплексе с Raspberry Pi и полётным контроллером)


